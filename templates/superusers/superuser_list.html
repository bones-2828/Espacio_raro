{% extends 'base.html' %}
{% block content %}
<h1>ðŸ‘‘ Superusuarios</h1>

<a href="{% url 'superuser_create' %}" class="btn">âž• Crear nuevo superusuario</a>

<table border="1" cellpadding="10">
  <thead>
    <tr>
      <th>ID</th>
      <th>Usuario</th>
      <th>Email</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for su in superusers %}
      <tr>
        <td>{{ su.id }}</td>
        <td>{{ su.username }}</td>
        <td>{{ su.email }}</td>
        <td>
          {% if request.user != su %}
            <form action="{% url 'superuser_delete' su.pk %}" method="post" style="display:inline;">
              {% csrf_token %}
              <button type="submit" onclick="return confirm('Â¿Seguro que deseas eliminar a {{ su.username }}?')">ðŸ—‘ Eliminar</button>
            </form>
          {% else %}
            <span>No puedes eliminarte</span>
          {% endif %}
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="4">No hay superusuarios registrados.</td></tr>
    {% endfor %}
  </tbody>
</table>

<a href="{% url 'dashboard' %}" class="btn">â¬… Volver al panel</a>
{% endblock %}
